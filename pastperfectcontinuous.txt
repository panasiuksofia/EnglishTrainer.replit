Tense: Past Perfect Continuous

Usage:
1. To describe an action that was happening continuously before another action or time in the past.
   Example: She had been studying for hours when I called her.

2. To show the cause of something in the past (often with the idea of duration).
   Example: He was tired because he had been running.

3. To express an action that was in progress and had been happening until a specific point in the past.
   Example: They had been living in London for two years when they moved to New York.

Form:
- Affirmative: Subject + had been + verb-ing (present participle)
  Example: I had been working all day.

- Negative: Subject + had not (hadn't) been + verb-ing
  Example: She hadnâ€™t been sleeping well.

- Interrogative: Had + subject + been + verb-ing?
  Example: Had you been waiting long before I arrived?

Time Expressions:
- for, since, how long, all day, lately, up until that time